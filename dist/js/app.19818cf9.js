(function(e){function t(t){for(var s,r,o=t[0],l=t[1],d=t[2],c=0,m=[];c<o.length;c++)r=o[c],Object.prototype.hasOwnProperty.call(n,r)&&n[r]&&m.push(n[r][0]),n[r]=0;for(s in l)Object.prototype.hasOwnProperty.call(l,s)&&(e[s]=l[s]);u&&u(t);while(m.length)m.shift()();return a.push.apply(a,d||[]),i()}function i(){for(var e,t=0;t<a.length;t++){for(var i=a[t],s=!0,o=1;o<i.length;o++){var l=i[o];0!==n[l]&&(s=!1)}s&&(a.splice(t--,1),e=r(r.s=i[0]))}return e}var s={},n={app:0},a=[];function r(t){if(s[t])return s[t].exports;var i=s[t]={i:t,l:!1,exports:{}};return e[t].call(i.exports,i,i.exports,r),i.l=!0,i.exports}r.m=e,r.c=s,r.d=function(e,t,i){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},r.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(r.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)r.d(i,s,function(t){return e[t]}.bind(null,s));return i},r.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],l=o.push.bind(o);o.push=t,o=o.slice();for(var d=0;d<o.length;d++)t(o[d]);var u=l;a.push([0,"chunk-vendors"]),i()})({0:function(e,t,i){e.exports=i("56d7")},"034f":function(e,t,i){"use strict";var s=i("85ec"),n=i.n(s);n.a},"03aa":function(e,t,i){},1e3:function(e,t,i){"use strict";var s=i("65d6"),n=i.n(s);n.a},"12b0":function(e,t,i){},1677:function(e,t,i){"use strict";var s=i("12b0"),n=i.n(s);n.a},"18d9":function(e,t,i){"use strict";var s=i("85d6"),n=i.n(s);n.a},"2c38":function(e,t,i){},"33a0":function(e,t,i){"use strict";var s=i("746c"),n=i.n(s);n.a},3831:function(e,t,i){},"56d7":function(e,t,i){"use strict";i.r(t);i("e260"),i("e6cf"),i("cca6"),i("a79d");var s=i("2b0e"),n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"app"}},[i("app-header",{attrs:{isAuth:e.isAuth},on:{changeIsAuth:function(t){e.isAuth=t}}}),i("router-view",{on:{isAuth:function(t){e.isAuth=t}}}),i("app-footer")],1)},a=[],r=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("input",{staticClass:"nav-toggle",attrs:{type:"checkbox",id:"nav-toggle"}}),i("div",{staticClass:"site-navi"},[i("nav",[i("ul",{staticClass:"navigation"},[i("li",[i("router-link",{attrs:{to:"/",exact:""}},[e._v("HOME")])],1),e.isAuth?i("li",[i("router-link",{attrs:{to:"/list"}},[e._v("RECIPES")])],1):e._e(),e.isAuth?i("li",[i("router-link",{attrs:{to:"/add"}},[e._v("ADD RECIPE")])],1):e._e(),e.isAuth?e._e():i("li",[i("router-link",{attrs:{to:"/login"}},[e._v("LOGIN")])],1),e.isAuth?e._e():i("li",[i("router-link",{attrs:{to:"/register"}},[e._v("REGISTER")])],1),e.isAuth?i("li",[i("router-link",{attrs:{to:"/profile"}},[e._v("PROFILE")])],1):e._e(),e.isAuth?i("li",{on:{click:e.userLogout}},[i("a",[e._v("LOGOUT")])]):e._e()])])]),i("label",{staticClass:"nav-toggle-button",attrs:{for:"nav-toggle"}},[e._v("☰")])])},o=[],l=(i("99af"),i("d3b7"),"kid_Bkl7nBaMw"),d="d8bb40c567f34eb1a952bdde98208967",u="https://baas.kinvey.com",c={methods:{createAuthorization:function(e){return"Basic"===e?"Basic ".concat(btoa("".concat(l,":").concat(d))):"Kinvey ".concat(sessionStorage.getItem("authtoken"))},makeHeaders:function(e,t,i){var s={method:e,headers:{Authorization:this.createAuthorization(i),"content-type":"application/json"}};return"POST"!==e&&"PUT"!==e||(s.body=JSON.stringify(t)),s},handleError:function(e){if(!e.ok)throw alert(e.statusText),new Error(e.statusText);return e},serializeData:function(e){return 204===e.status?e:e.json()},fetchData:function(e,t,i){var s="".concat(u,"/").concat(e,"/").concat(l,"/").concat(t);return fetch(s,i)},get:function(e,t,i){var s=this.makeHeaders("GET",i);return this.fetchData(e,t,s)},post:function(e,t,i,s){var n=this.makeHeaders("POST",i,s);return this.fetchData(e,t,n)},put:function(e,t,i,s){var n=this.makeHeaders("PUT",i,s);return this.fetchData(e,t,n)},del:function(e,t,i){var s=this.makeHeaders("DELETE",i);return this.fetchData(e,t,s)},addSessonStorageUserInfo:function(e){sessionStorage.setItem("authtoken",e._kmd.authtoken),sessionStorage.setItem("username",e.username),sessionStorage.setItem("userId",e._id),sessionStorage.setItem("email",e.email)}}},m=c,v={isLogin:!1},p=v,h={name:"Home",mixins:[m],props:{isAuth:{type:Boolean,required:!0}},methods:{userLogout:function(){var e=this;this.post("user","_logout",{},"Kinvey").then((function(){sessionStorage.clear(),e.$emit("changeIsAuth",!1),p.isLogin=!1,e.$router.push("/")})).catch((function(e){return console.log(e)}))}}},f=h,g=(i("1000"),i("2877")),_=Object(g["a"])(f,r,o,!1,null,"bac2ae58",null),b=_.exports,C=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},w=[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"site-footer"},[i("div",{staticClass:"author-info"},[i("p",[e._v("powared by Taskoff")])])])}],$={name:"Footer"},y=$,I=(i("ca5d"),Object(g["a"])(y,C,w,!1,null,"31bf0406",null)),x=I.exports,E={name:"App",components:{AppHeader:b,AppFooter:x},data:function(){return{isAuth:!1}}},k=E,P=(i("034f"),Object(g["a"])(k,n,a,!1,null,null,null)),U=P.exports,q=i("8c4f"),L=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"list-vew-container"},[i("h2",[e._v("All Recipes")]),i("div",{staticClass:"loader-container",class:{show:e.isLoading}},[e._m(0)]),i("div",{staticClass:"all-recipes-container"},e._l(e.recipes,(function(t){return i("div",{key:t._id,staticClass:"recipe-container"},[i("div",{staticClass:"img-container"},[i("img",{attrs:{src:t.imageUrl,alt:"Img"}})]),i("div",{staticClass:"recipe-title"},[i("h3",[e._v(e._s(t.name))])]),i("div",{staticClass:"details-btn-container"},[i("router-link",{attrs:{to:e._f("editLink")(t)}},[e._v("Details")])],1)])})),0)])},A=[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"lds-ring"},[i("div"),i("div"),i("div"),i("div")])}],O={name:"List",mixins:[m],data:function(){return{imageUrl:"",name:"",recipes:null,isLoading:!1}},created:function(){this.getList()},methods:{getList:function(){var e=this;this.isLoading=!0,this.get("appdata","recipes","Kinvey").then(this.serializeData).then((function(t){e.recipes=t})).finally((function(){e.isLoading=!1}))}},filters:{editLink:function(e){return"/details/".concat(e._id)}}},D=O,R=(i("1677"),Object(g["a"])(D,L,A,!1,null,"f7e26e46",null)),S=R.exports,j=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("h2",[e._v("Details")]),i("div",{staticClass:"recipe-details-container"},[i("div",{staticClass:"img-container"},[i("img",{attrs:{src:e.imageUrl,alt:e.name}})]),i("h3",{staticClass:"recipe-title"},[e._v(e._s(e.name))]),i("div",{staticClass:"recipe"},[i("h3",[e._v("Ingredients:")]),i("ul",{staticClass:"ingredients"},e._l(e.ingredients,(function(t,s){return i("li",{key:s},[e._v(e._s(t))])})),0),i("h3",[e._v("Methods:")]),i("p",{staticClass:"methods"},[e._v(" "+e._s(e.methods)+" ")])]),i("div",{staticClass:"profile-button-container",class:{hiden:!e.isAuthor}},[i("p",[e._v("If you want to edit or remove recipe "),i("router-link",{staticClass:"go-profile-btn",attrs:{to:"/profile"}},[e._v("Go to Profile")])],1)])])])},H=[],T=(i("b0c0"),{mixins:[m],data:function(){return{imageUrl:"",name:"",ingredients:[],methods:"",authorId:""}},created:function(){this.getRecipeDetails()},methods:{getRecipeDetails:function(){var e=this,t=this.$route.params.id;this.get("appdata","recipes/".concat(t),"Kinvey").then(this.serializeData).then((function(t){e.imageUrl=t.imageUrl,e.name=t.name,e.ingredients=t.ingredients,e.methods=t.methods,e.authorId=t._acl.creator}))}},computed:{isAuthor:function(){return this.authorId===sessionStorage.getItem("userId")}}}),B=T,N=(i("96e7"),Object(g["a"])(B,j,H,!1,null,"ad1a47d0",null)),M=N.exports,z=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("h2",[e._v("Add Recipe")]),i("div",{staticClass:"add-container"},[i("form",{on:{submit:function(t){return t.preventDefault(),e.submitHandler(t)}}},[i("div",{staticClass:"img-input"},[i("div",{staticClass:"img-container"},[e.imageUrl?i("img",{attrs:{src:e.imageUrl,alt:"Img"}}):e._e()]),i("div",[e.imageUrl?e._e():i("button",{staticClass:"img-add-btn",on:{click:e.addImg}},[e._v("Add Image")]),e.imageUrl?i("button",{staticClass:"img-add-btn",on:{click:e.deleteImg}},[e._v("Delete Image")]):e._e()])]),i("div",{staticClass:"form-label-input"},[e._m(0),i("div",{staticClass:"form-input"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.name,expression:"name"}],attrs:{type:"text",id:"name",placeholder:"Name"},domProps:{value:e.name},on:{input:function(t){t.target.composing||(e.name=t.target.value)}}})])]),i("div",{staticClass:"form-label-input ingredients"},[e._m(1),i("div",{staticClass:"form-input"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.ingredient,expression:"ingredient"}],attrs:{type:"text",id:"add-ingredient",placeholder:"100ml Milk"},domProps:{value:e.ingredient},on:{input:function(t){t.target.composing||(e.ingredient=t.target.value)}}}),i("a",{staticClass:"addBtn",attrs:{type:"button"},on:{click:e.ingredientHandler}},[e._v("ADD")])])]),i("div",{staticClass:"ingredient-list"},[i("ul",e._l(e.ingredients,(function(t,s){return i("li",{key:s},[e._v(e._s(t)+" "),i("a",{staticClass:"deleteBtn",on:{click:function(t){return e.deleteIngredient(s)}}},[e._v("remove")])])})),0)]),i("div",{staticClass:"form-label-input"},[e._m(2),i("div",{staticClass:"form-textarea"},[i("textarea",{directives:[{name:"model",rawName:"v-model",value:e.methods,expression:"methods"}],attrs:{type:"text",id:"methods"},domProps:{value:e.methods},on:{input:function(t){t.target.composing||(e.methods=t.target.value)}}})]),e.$v.$error?[e.$v.name.required?e._e():i("div",{staticClass:"error-input"},[e._v("the name is required")]),e.$v.imageUrl.required?e._e():i("div",{staticClass:"error-input"},[e._v("the image URL is required")]),e.$v.methods.required?e._e():i("div",{staticClass:"error-input"},[e._v("the methods are required")])]:e._e(),i("div",{staticClass:"error-input",class:{hiden:e.noIngredients,show:!e.noIngredients}},[e._v("ingredients are required")])],2),i("input",{staticClass:"addRecipeBtn",attrs:{type:"submit",value:"Add Recipe"}})])])])},K=[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"form-label"},[i("label",{attrs:{for:"name"}},[e._v("Name:")])])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"form-label"},[i("label",{attrs:{for:"add-ingredient"}},[e._v("Ingredients and quantity:")])])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"form-label"},[i("label",{attrs:{for:"methods"}},[e._v("Methods:")])])}],G=(i("a434"),i("1dce")),F=i("b5ae"),J={methods:{uploadImage:function(e){var t=this;e.preventDefault(),console.log("fuck");var i=window.cloudinary.createUploadWidget({cloudName:"dxt2tu7ic",uploadPreset:"nq3dvifv"},(function(e,i){"success"===i.event&&(t.imageUrl=i.info.url)}));i.open()}}},W=J,X={mixins:[G["validationMixin"],m,W],data:function(){return{name:"",ingredient:"",ingredients:[],imageUrl:"",methods:"",noIngredients:!0}},validations:{name:{required:F["required"]},imageUrl:{required:F["required"]},methods:{required:F["required"]}},methods:{ingredientHandler:function(){this.ingredient&&(this.ingredients.push(this.ingredient),this.noIngredients=!0),this.ingredient=""},deleteIngredient:function(e){this.ingredients.splice(e,1)},submitHandler:function(){var e=this;if(this.noIngredients=0!==this.ingredients.length,this.$v.$touch(),!this.$v.$invalid&&!1!==this.noIngredients){var t={name:this.name,imageUrl:this.imageUrl,ingredients:this.ingredients,methods:this.methods};this.post("appdata","recipes",t,"Kinvey").then(this.serializeData).then((function(t){e.$router.push("details/".concat(t._id))})).finally((function(){e.name="",e.imageUrl="",e.ingredients=[],e.methods=""}))}},addImg:function(e){this.uploadImage(e)},deleteImg:function(){this.imageUrl=""}}},Y=X,Z=(i("a7a2"),Object(g["a"])(Y,z,K,!1,null,"5b79f09b",null)),Q=Z.exports,V=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"register-form-view"},[i("div",{staticClass:"loader-container",class:{show:e.isLoading}},[e._m(0)]),e._m(1),i("div",{staticClass:"form-container"},[i("form",{staticClass:"reg-form",on:{submit:function(t){return t.preventDefault(),e.regHandler(t)}}},[i("div",{staticClass:"form-label-input"},[i("label",{attrs:{for:"email"}},[e._v("Email")]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.email,expression:"email"}],attrs:{type:"text",id:"email",name:"email",placeholder:"Email"},domProps:{value:e.email},on:{blur:e.$v.email.$touch,input:function(t){t.target.composing||(e.email=t.target.value)}}}),e.$v.email.$error?[e.$v.email.required?e.$v.email.email?e._e():i("div",{staticClass:"error-input"},[e._v("the email is invalid")]):i("div",{staticClass:"error-input"},[e._v("the email is reqired")])]:e._e()],2),i("div",{staticClass:"form-label-input"},[i("label",{attrs:{for:"inputUsername"}},[e._v("Username")]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.username,expression:"username"}],attrs:{type:"text",id:"inputUsername",name:"username",placeholder:"Username"},domProps:{value:e.username},on:{blur:e.$v.username.$touch,input:function(t){t.target.composing||(e.username=t.target.value)}}}),e.$v.username.$error?[e.$v.username.required?e.$v.username.minLength?e._e():i("div",{staticClass:"error-input"},[e._v("the username must by min 3 symbols")]):i("div",{staticClass:"error-input"},[e._v("the username is reqired")])]:e._e()],2),i("div",{staticClass:"form-label-input"},[i("label",{attrs:{for:"inputPassword"}},[e._v("Password")]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],attrs:{type:"password",id:"inputPassword",name:"password",placeholder:"Password"},domProps:{value:e.password},on:{blur:e.$v.password.$touch,input:function(t){t.target.composing||(e.password=t.target.value)}}}),e.$v.password.$error?[e.$v.password.required?e.$v.password.minLength?i("div",{staticClass:"error-input"},[e._v("password must contain only letters end numbers")]):i("div",{staticClass:"error-input"},[e._v("the password must by min 6 symbols")]):i("div",{staticClass:"error-input"},[e._v("the Password is required")])]:e._e()],2),i("div",{staticClass:"form-label-input"},[i("label",{attrs:{for:"inputRePassword"}},[e._v("Re-Password")]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.rePassword,expression:"rePassword"}],attrs:{type:"password",id:"inputRePassword",name:"rePassword",placeholder:"Re-Password"},domProps:{value:e.rePassword},on:{blur:e.$v.rePassword.$touch,input:function(t){t.target.composing||(e.rePassword=t.target.value)}}}),e.$v.rePassword.$error?[e.$v.rePassword.sameAs?e._e():i("div",{staticClass:"error-input"},[e._v("the password not match")])]:e._e()],2),e._m(2),i("div",[i("p",{staticClass:"alreadyUser"},[e._v(" Already have account? Then just "),i("router-link",{attrs:{to:"/login"}},[e._v("Sign-In")]),e._v("! ")],1)])])])])},ee=[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"lds-ring"},[i("div"),i("div"),i("div"),i("div")])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{},[i("h2",[e._v("Register")])])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"reg-btn-container"},[i("button",{staticClass:"regBtn",attrs:{type:"submit"}},[e._v("Sign Up")])])}],te=F["helpers"].regex("passwordCheck",/^[a-zA-Z0-9]+$/),ie={mixins:[G["validationMixin"],m],data:function(){return{email:"",username:"",password:"",rePassword:"",isAuth:null,isLoading:!1}},validations:{email:{required:F["required"],email:F["email"]},username:{required:F["required"],minLength:Object(F["minLength"])(3)},password:{required:F["required"],minLength:Object(F["minLength"])(6),passwordCheck:te},rePassword:{sameAs:Object(F["sameAs"])("password")}},methods:{regHandler:function(){var e=this;if(this.$v.$invalid)this.$v.$touch();else{var t=this.username,i=this.password,s=this.email;this.isLoading=!0,this.post("user","",{username:t,password:i,email:s},"Basic").then((function(t){if(!t.ok)throw console.log(t),409===t.status?alert("This user exist!"):e.$router.push("*"),new Error(t.statusText);return t})).then(this.serializeData).then((function(t){e.$emit("isAuth",!0),e.addSessonStorageUserInfo(t),p.isLogin=!0,e.$router.push({path:"List"})})).finally((function(){e.isLoading=!1,e.email="",e.username="",e.password="",e.rePassword=""}))}}}},se=ie,ne=(i("33a0"),Object(g["a"])(se,V,ee,!1,null,"1e684d21",null)),ae=ne.exports,re=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"login-form-view"},[i("div",{staticClass:"loader-container",class:{show:e.isLoading}},[e._m(0)]),i("h2",[e._v("Login")]),i("div",{staticClass:"form-container"},[i("form",{on:{submit:function(t){return t.preventDefault(),e.submitHandler(t)}}},[i("div",{staticClass:"form-label-input"},[i("label",{attrs:{for:"inputUsername"}},[e._v("Username")]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.username,expression:"username"}],attrs:{type:"text",id:"username",name:"username",placeholder:"Username"},domProps:{value:e.username},on:{input:function(t){t.target.composing||(e.username=t.target.value)}}}),e.$v.username.$error?[e.$v.username.required?e._e():i("div",{staticClass:"error-input"},[e._v("the username is reqired")])]:e._e()],2),i("div",{staticClass:"form-label-input"},[i("label",{attrs:{for:"inputPassword"}},[e._v("Password")]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],attrs:{type:"password",id:"inputPassword",name:"password",placeholder:"Password"},domProps:{value:e.password},on:{input:function(t){t.target.composing||(e.password=t.target.value)}}}),e.$v.password.$error?[e.$v.password.required?e._e():i("div",{staticClass:"error-input"},[e._v("the Password is required")])]:e._e()],2),e._m(1),i("div",[i("p",{staticClass:"alreadyUser"},[e._v(" Don't have account? Then just "),i("router-link",{attrs:{to:"/register"}},[e._v("Sign-Up")]),e._v("! ")],1)])])])])},oe=[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"lds-ring"},[i("div"),i("div"),i("div"),i("div")])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"log-btn-container"},[i("button",{staticClass:"logBtn",attrs:{type:"submit"}},[e._v("Sign In")])])}],le={mixins:[m,G["validationMixin"]],data:function(){return{username:"",password:"",isLoading:!1}},validations:{username:{required:F["required"]},password:{required:F["required"]}},methods:{submitHandler:function(){var e=this;if(this.$v.$invalid)this.$v.$touch();else{var t=this.username,i=this.password;this.isLoading=!0,this.post("user","login",{username:t,password:i},"Basic").then((function(t){if(!t.ok)throw console.log(t),401===t.status?alert("Invalid User!"):e.$router.push("*"),new Error(t.statusText);return t})).then(this.serializeData).then((function(t){e.addSessonStorageUserInfo(t),e.$emit("isAuth",!0),p.isLogin=!0,e.$router.push("list")})).finally((function(){e.username="",e.password="",e.isLoading=!1}))}}}},de=le,ue=(i("77d1"),Object(g["a"])(de,re,oe,!1,null,"ffac00c0",null)),ce=ue.exports,me=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"profile-view"},[i("h2",[e._v("Profile")]),i("div",{staticClass:"user-info-container"},[e._m(0),i("div",{staticClass:"user-info"},[i("p",{staticClass:"user-name"},[e._v("Username: "),i("span",{staticClass:"username"},[e._v(e._s(e.username))])]),i("p",{staticClass:"user-email"},[e._v("Email:"),i("span",{staticClass:"email"},[e._v(e._s(e.email))])])]),i("h3",[e._v("My recipes:")]),i("div",{staticClass:"recipes"},[e.recipes?[i("ul",e._l(e.recipes,(function(t){return i("li",{key:t._id},[e._v(e._s(t.name)+" "),i("button",{class:{hiden:!e.showBtn},on:{click:function(i){return e.editRecipe(t)}}},[e._v("Edit")]),e._v(" "),i("button",{class:{hiden:!e.showBtn},on:{click:function(i){return e.deleteRecipe(t)}}},[e._v("Delete")])])})),0)]:[i("p",[e._v("Loading....")])]],2)])])},ve=[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"img-container"},[i("img",{attrs:{src:"https://i.ibb.co/ChgXx2p/user.png",alt:"user_img"}})])}],pe={mixins:[m],data:function(){return{username:sessionStorage.getItem("username"),email:sessionStorage.getItem("email"),recipes:null,showBtn:!0}},created:function(){this.getRecipes()},methods:{getRecipes:function(){var e=this;this.get("appdata",'recipes?query={"_acl.creator":"'.concat(sessionStorage.getItem("userId"),'"}'),"Kinvey").then(this.serializeData).then((function(t){t.length>0?e.recipes=t:(e.showBtn=!1,e.recipes=[{name:"There is no recipes"}])}))},editRecipe:function(e){this.$router.push("edit/".concat(e._id))},deleteRecipe:function(e){var t=this;this.del("appdata","recipes/".concat(e._id),"Kinvey").then((function(e){console.log(e),t.getRecipes()}))}}},he=pe,fe=(i("18d9"),Object(g["a"])(he,me,ve,!1,null,"32587a58",null)),ge=fe.exports,_e=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("h2",[e._v("Edit Recipe")]),i("div",{staticClass:"add-container"},[i("form",{on:{submit:function(t){return t.preventDefault(),e.submitHandler(t)}}},[i("div",{staticClass:"img-input"},[i("div",{staticClass:"img-container"},[e.imageUrl?i("img",{attrs:{src:e.imageUrl,alt:"Img"}}):e._e()]),i("div",[e.imageUrl?e._e():i("button",{staticClass:"img-add-btn",on:{click:e.addImg}},[e._v("Add Image")]),e.imageUrl?i("button",{staticClass:"img-add-btn",on:{click:e.deleteImg}},[e._v("Delete Image")]):e._e()])]),i("div",{staticClass:"form-label-input"},[e._m(0),i("div",{staticClass:"form-input"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.name,expression:"name"}],attrs:{type:"text",id:"name",placeholder:"Name"},domProps:{value:e.name},on:{input:function(t){t.target.composing||(e.name=t.target.value)}}})])]),i("div",{staticClass:"form-label-input ingredients"},[e._m(1),i("div",{staticClass:"form-input"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.ingredient,expression:"ingredient"}],attrs:{type:"text",id:"add-ingredient"},domProps:{value:e.ingredient},on:{input:function(t){t.target.composing||(e.ingredient=t.target.value)}}}),i("a",{staticClass:"addBtn",attrs:{type:"button"},on:{click:e.ingredientHandler}},[e._v("✚")])])]),i("div",{staticClass:"ingredient-list"},[i("ul",e._l(e.ingredients,(function(t,s){return i("li",{key:s},[e._v(e._s(t)+" "),i("a",{staticClass:"deleteBtn",on:{click:function(t){return e.deleteIngredient(s)}}},[e._v("⚊")])])})),0)]),i("div",{staticClass:"form-label-input"},[e._m(2),i("div",{staticClass:"form-textarea"},[i("textarea",{directives:[{name:"model",rawName:"v-model",value:e.methods,expression:"methods"}],attrs:{type:"text",id:"methods"},domProps:{value:e.methods},on:{input:function(t){t.target.composing||(e.methods=t.target.value)}}})]),e.$v.$error?[e.$v.name.required?e._e():i("div",{staticClass:"error-input"},[e._v("the name is required")]),e.$v.imageUrl.required?e._e():i("div",{staticClass:"error-input"},[e._v("the image URL is required")]),e.$v.methods.required?e._e():i("div",{staticClass:"error-input"},[e._v("the methods are required")])]:e._e(),i("div",{staticClass:"error-input",class:{hiden:e.noIngredients,show:!e.noIngredients}},[e._v("ingredients are required")])],2),i("input",{staticClass:"addRecipeBtn",attrs:{type:"submit",value:"Edit Recipe"}})])])])},be=[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"form-label"},[i("label",{attrs:{for:"name"}},[e._v("Name:")])])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"form-label"},[i("label",{attrs:{for:"add-ingredient"}},[e._v("Ingredients and quantity:")])])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"form-label"},[i("label",{attrs:{for:"methods"}},[e._v("Methods:")])])}],Ce={mixins:[G["validationMixin"],m,W],data:function(){return{name:"",ingredient:"",ingredients:[],imageUrl:"",methods:"",noIngredients:!0}},validations:{name:{required:F["required"]},imageUrl:{required:F["required"]},methods:{required:F["required"]}},created:function(){this.loadRecipe()},methods:{ingredientHandler:function(){this.ingredient&&(this.ingredients.push(this.ingredient),this.noIngredients=!0),this.ingredient=""},deleteIngredient:function(e){this.ingredients.splice(e,1)},submitHandler:function(){var e=this;if(this.noIngredients=0!==this.ingredients.length,this.$v.$touch(),!this.$v.$invalid&&!1!==this.noIngredients){var t={name:this.name,imageUrl:this.imageUrl,ingredients:this.ingredients,methods:this.methods},i=this.$route.params.id;this.put("appdata","recipes/".concat(i),t,"Kinvey").then(this.serializeData).then((function(t){var i=t._id;e.$router.push({path:"/details/".concat(i)})})).finally((function(){e.name="",e.imageUrl="",e.ingredients=[],e.methods=""}))}},loadRecipe:function(){var e=this,t=this.$route.params.id;this.get("appdata","recipes/".concat(t),"Kinvey").then(this.serializeData).then((function(t){e.name=t.name,e.imageUrl=t.imageUrl,e.ingredients=t.ingredients,e.methods=t.methods}))},addImg:function(e){this.uploadImage(e)},deleteImg:function(){this.imageUrl=""}}},we=Ce,$e=(i("b291"),Object(g["a"])(we,_e,be,!1,null,"54c909e1",null)),ye=$e.exports,Ie=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},xe=[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"img-container"},[i("img",{attrs:{src:"img/404.png",alt:""}})])}],Ee={},ke=Ee,Pe=(i("e047"),Object(g["a"])(ke,Ie,xe,!1,null,"5461ad4f",null)),Ue=Pe.exports,qe=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"site-content"},[i("div",{staticClass:"start-page-container"},[i("p",{staticClass:"start-message"},[e._v("You can see all cocktail recipes")]),e._m(0),i("div",{staticClass:"start-button"},[i("router-link",{attrs:{to:"/list"}},[e._v("HERE")])],1)])])},Le=[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"arrow-container"},[i("p",{staticClass:"arrow"},[e._v("⇩")])])}],Ae={name:"Home"},Oe=Ae,De=(i("bbea"),Object(g["a"])(Oe,qe,Le,!1,null,"96d8eeb6",null)),Re=De.exports,Se=[{path:"/",component:Re},{path:"/list",component:S,beforeEnter:function(e,t,i){p.isLogin||i("/login"),i()}},{path:"/details/:id",component:M,beforeEnter:function(e,t,i){p.isLogin||i("/login"),i()}},{path:"/edit/:id",component:ye,beforeEnter:function(e,t,i){p.isLogin||i("/login"),i()}},{path:"/add",component:Q,beforeEnter:function(e,t,i){p.isLogin||i("/login"),i()}},{path:"/register",component:ae,beforeEnter:function(e,t,i){p.isLogin&&i("/list"),i()}},{path:"/login",component:ce},{path:"/profile",component:ge,beforeEnter:function(e,t,i){p.isLogin||i("/list"),i()}},{path:"*",component:Ue}],je=Se;s["a"].use(q["a"]),s["a"].config.productionTip=!1;var He=new q["a"]({mode:"history",routes:je});new s["a"]({render:function(e){return e(U)},router:He}).$mount("#app")},"5c84":function(e,t,i){},"65d6":function(e,t,i){},"746c":function(e,t,i){},"77d1":function(e,t,i){"use strict";var s=i("d09d"),n=i.n(s);n.a},"85d6":function(e,t,i){},"85ec":function(e,t,i){},"96e7":function(e,t,i){"use strict";var s=i("3831"),n=i.n(s);n.a},a7a2:function(e,t,i){"use strict";var s=i("b8ae"),n=i.n(s);n.a},b291:function(e,t,i){"use strict";var s=i("df67"),n=i.n(s);n.a},b8ae:function(e,t,i){},bbea:function(e,t,i){"use strict";var s=i("03aa"),n=i.n(s);n.a},ca5d:function(e,t,i){"use strict";var s=i("2c38"),n=i.n(s);n.a},d09d:function(e,t,i){},df67:function(e,t,i){},e047:function(e,t,i){"use strict";var s=i("5c84"),n=i.n(s);n.a}});
//# sourceMappingURL=app.19818cf9.js.map